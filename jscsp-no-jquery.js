(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery")):b(jQuery)})(function(b,q){function k(h,d,e,g){for(var J=[],p=0;p<h.length;p++){var Q=h[p];if(Q){var k=tinycolor(Q),q=.5>k.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",q=q+(tinycolor.equals(d,Q)?" sp-thumb-active":""),Q=k.toString(g.preferredFormat||"rgb"),O=n?"background-color:"+k.toRgbString():"filter:"+k.toFilter();J.push('<span title="'+
Q+'" data-color="'+k.toRgbString()+'" class="'+q+'"><span class="sp-thumb-inner" style="'+O+';" /></span>')}else J.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",g.noColorSelectedText)).html())}return"<div class='sp-cf "+e+"'>"+J.join("")+"</div>"}function w(h,d){var g=b.extend({},e,h);g.callbacks={move:y(g.move,d),change:y(g.change,d),show:y(g.show,d),hide:y(g.hide,d),beforeShow:y(g.beforeShow,d)};return g}function u(e,
g){function ba(){l.showPaletteOnly&&(l.showPalette=!0);Aa.text(l.showPaletteOnly?l.togglePaletteMoreText:l.togglePaletteLessText);if(l.palette){qa=l.palette.slice(0);ia=b.isArray(qa[0])?qa:[qa];ra={};for(var a=0;a<ia.length;a++)for(var c=0;c<ia[a].length;c++){var f=tinycolor(ia[a][c]).toRgbString();ra[f]=!0}}v.toggleClass("sp-flat",K);v.toggleClass("sp-input-disabled",!l.showInput);v.toggleClass("sp-alpha-enabled",l.showAlpha);v.toggleClass("sp-clear-enabled",Y);v.toggleClass("sp-buttons-disabled",
!l.showButtons);v.toggleClass("sp-palette-buttons-disabled",!l.togglePaletteOnly);v.toggleClass("sp-palette-disabled",!l.showPalette);v.toggleClass("sp-palette-only",l.showPaletteOnly);v.toggleClass("sp-initial-disabled",!l.showInitial);v.addClass(l.className).addClass(l.containerClassName);G()}function ha(){if(r&&window.localStorage){try{var a=window.localStorage[r].split(",#");1<a.length&&(delete window.localStorage[r],b.each(a,function(a,c){J(c)}))}catch(c){}try{L=window.localStorage[r].split(";")}catch(c){}}}
function J(a){if(R){a=tinycolor(a).toRgbString();if(!ra[a]&&-1===b.inArray(a,L))for(L.push(a);L.length>Ra;)L.shift();if(r&&window.localStorage)try{window.localStorage[r]=L.join(";")}catch(c){}}}function Qa(){var a=[];if(l.showPalette)for(var c=0;c<L.length;c++){var f=tinycolor(L[c]).toRgbString();ra[f]||a.push(L[c])}return a.reverse().slice(0,l.maxSelectionSize)}function Q(){var a=C(),c=b.map(ia,function(c,f){return k(c,a,"sp-palette-row sp-palette-row-"+f,l)});ha();L&&c.push(k(Qa(),a,"sp-palette-row sp-palette-row-selection",
l));Ha.html(c.join(""))}function u(){if(l.showInitial){var a=Z,c=C();Ia.html(k([a,c],c,"sp-palette-row-initial",l))}}function y(){(0>=A||0>=S||0>=f)&&G();aa=!0;v.addClass("sp-dragging");T=null;z.trigger("dragstart.spectrum",[C()])}function za(){aa=!1;v.removeClass("sp-dragging");z.trigger("dragstop.spectrum",[C()])}function Ba(){var a=M.val();null!==a&&""!==a||!Y?(a=tinycolor(a),a.isValid()?(U(a),F(!0)):M.addClass("sp-validation-error")):(U(null),F(!0))}function Ja(){m?V():Ca()}function Ca(){var a=
b.Event("beforeShow.spectrum");if(m)G();else if(z.trigger(a,[C()]),!1!==B.beforeShow(C())&&!a.isDefaultPrevented()){for(a=0;a<d.length;a++)d[a]&&d[a].hide();m=!0;b(ja).bind("keydown.spectrum",Ka);b(ja).bind("click.spectrum",La);b(window).bind("resize.spectrum",ca);da.addClass("sp-active");v.removeClass("sp-hidden");G();P();Z=C();u();B.show(Z);z.trigger("show.spectrum",[Z])}}function Ka(a){27===a.keyCode&&V()}function La(a){2==a.button||aa||(Sa?F(!0):U(Z,!0),V())}function V(){m&&!K&&(m=!1,b(ja).unbind("keydown.spectrum",
Ka),b(ja).unbind("click.spectrum",La),b(window).unbind("resize.spectrum",ca),da.removeClass("sp-active"),v.addClass("sp-hidden"),B.hide(C()),z.trigger("hide.spectrum",[C()]))}function U(a,c){if(tinycolor.equals(a,C()))P();else{var f,t;!a&&Y?W=!0:(W=!1,f=tinycolor(a),t=f.toHsv(),ka=t.h%360/360,la=t.s,ma=t.v,N=t.a);P();f&&f.isValid()&&!c&&(ea=l.preferredFormat||f.getFormat())}}function C(a){a=a||{};return Y&&W?null:tinycolor.fromRatio({h:ka,s:la,v:ma,a:Math.round(100*N)/100},{format:a.format||ea})}
function X(){P();B.move(C());z.trigger("move.spectrum",[C()])}function P(){M.removeClass("sp-validation-error");x();var a=tinycolor.fromRatio({h:ka,s:1,v:1});sa.css("background-color",a.toHexString());a=ea;!(1>N)||0===N&&"name"===a||"hex"!==a&&"hex3"!==a&&"hex6"!==a&&"name"!==a||(a="rgb");var c=C({format:a}),f="";fa.removeClass("sp-clear-display");fa.css("background-color","transparent");if(!c&&Y)fa.addClass("sp-clear-display");else{var f=c.toHexString(),t=c.toRgbString();n||1===c.alpha?fa.css("background-color",
t):(fa.css("background-color","transparent"),fa.css("filter",c.toFilter()));if(l.showAlpha){t=c.toRgb();t.a=0;var t=tinycolor(t).toRgbString(),b="linear-gradient(left, "+t+", "+f+")";O?na.css("filter",tinycolor(t).toFilter({gradientType:1},f)):(na.css("background","-webkit-"+b),na.css("background","-moz-"+b),na.css("background","-ms-"+b),na.css("background","linear-gradient(to right, "+t+", "+f+")"))}f=c.toString(a)}l.showInput&&M.val(f);l.showPalette&&Q();u()}function x(){var b=la,h=ma;Y&&W?(ta.hide(),
ua.hide(),va.hide()):(ta.show(),ua.show(),va.show(),b*=S,h=A-h*A,b=Math.max(-a,Math.min(S-a,b-a)),h=Math.max(-a,Math.min(A-a,h-a)),va.css({top:h+"px",left:b+"px"}),ta.css({left:N*c-t/2+"px"}),ua.css({top:ka*f-Ma+"px"}))}function F(a){var c=C(),f="",t=!tinycolor.equals(c,Z);c&&(f=c.toString(ea),J(c));wa&&z.val(f);a&&t&&(B.change(c),z.trigger("change",[c]))}function G(){m&&(S=sa.width(),A=sa.height(),a=va.height(),Da.width(),f=Da.height(),Ma=ua.height(),c=Na.width(),t=ta.width(),K||(v.css("position",
"absolute"),l.offset?v.offset(l.offset):v.offset(p(v,oa))),x(),l.showPalette&&Q(),z.trigger("reflow.spectrum"))}function xa(){V();Ea=!0;z.attr("disabled",!0);oa.addClass("sp-disabled")}var l=w(g,e),K=l.flat,R=l.showSelectionPalette,r=l.localStorageKey,D=l.theme,B=l.callbacks,ca=h(G,10),m=!1,aa=!1,S=0,A=0,a=0,f=0,c=0,t=0,Ma=0,ka=0,la=0,ma=0,N=1,qa=[],ia=[],ra={},L=l.selectionPalette.slice(0),Ra=l.maxSelectionSize,T=null,ja=e.ownerDocument,z=b(e),Ea=!1,v=b(ga,ja).addClass(D),Ta=v.find(".sp-picker-container"),
sa=v.find(".sp-color"),va=v.find(".sp-dragger"),Da=v.find(".sp-hue"),ua=v.find(".sp-slider"),na=v.find(".sp-alpha-inner"),Na=v.find(".sp-alpha"),ta=v.find(".sp-alpha-handle"),M=v.find(".sp-input"),Ha=v.find(".sp-palette"),Ia=v.find(".sp-initial"),Oa=v.find(".sp-cancel"),Fa=v.find(".sp-clear"),Pa=v.find(".sp-choose"),Aa=v.find(".sp-palette-toggle"),wa=z.is("input"),Ua=wa&&"color"===z.attr("type")&&b.fn.spectrum.inputTypeColorSupport(),Ga=wa&&!K,da=Ga?b("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>").addClass(D).addClass(l.className).addClass(l.replacerClassName):
b([]),oa=Ga?da:z,fa=da.find(".sp-preview-inner"),pa=l.color||wa&&z.val(),Z=!1,ea=l.preferredFormat,Sa=!l.showButtons||l.clickoutFiresChange,W=!pa,Y=l.allowEmpty&&!Ua;(function(){function a(c){c.data&&c.data.ignore?(U(b(c.target).closest(".sp-thumb-el").data("color")),X()):(U(b(c.target).closest(".sp-thumb-el").data("color")),X(),F(!0),l.hideAfterPaletteSelect&&V());return!1}O&&v.find("*:not(input)").attr("unselectable","on");ba();Ga&&z.after(da).hide();Y||Fa.hide();if(K)z.after(v).hide();else{var t=
"parent"===l.appendTo?z.parent():b(l.appendTo);1!==t.length&&(t=b("body"));t.append(v)}ha();oa.bind("click.spectrum touchstart.spectrum",function(a){Ea||Ja();a.stopPropagation();b(a.target).is("input")||a.preventDefault()});(z.is(":disabled")||!0===l.disabled)&&xa();v.click(H);M.change(Ba);M.bind("paste",function(){setTimeout(Ba,1)});M.keydown(function(a){13==a.keyCode&&Ba()});Oa.text(l.cancelText);Oa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();U(Z,!0);V()});Fa.attr("title",
l.clearText);Fa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();W=!0;X();K&&F(!0)});Pa.text(l.chooseText);Pa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();O&&M.is(":focus")&&M.trigger("change");M.hasClass("sp-validation-error")||(F(!0),V())});Aa.text(l.showPaletteOnly?l.togglePaletteMoreText:l.togglePaletteLessText);Aa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();l.showPaletteOnly=!l.showPaletteOnly;l.showPaletteOnly||
K||v.css("left","-="+(Ta.outerWidth(!0)+5));ba()});E(Na,function(a,f,t){N=a/c;W=!1;t.shiftKey&&(N=Math.round(10*N)/10);X()},y,za);E(Da,function(a,c){ka=parseFloat(c/f);W=!1;l.showAlpha||(N=1);X()},y,za);E(sa,function(a,c,f){f.shiftKey?T||(T=Math.abs(a-la*S)>Math.abs(c-(A-ma*A))?"x":"y"):T=null;f=!T||"y"===T;T&&"x"!==T||(la=parseFloat(a/S));f&&(ma=parseFloat((A-c)/A));W=!1;l.showAlpha||(N=1);X()},y,za);pa?(U(pa),P(),ea=l.preferredFormat||tinycolor(pa).format,J(pa)):P();K&&Ca();t=O?"mousedown.spectrum":
"click.spectrum touchstart.spectrum";Ha.delegate(".sp-thumb-el",t,a);Ia.delegate(".sp-thumb-el:nth-child(1)",t,{ignore:!0},a)})();var ya={show:Ca,hide:V,toggle:Ja,reflow:G,option:function(a,c){if(a===q)return b.extend({},l);if(c===q)return l[a];l[a]=c;"preferredFormat"===a&&(ea=l.preferredFormat);ba()},enable:function(){Ea=!1;z.attr("disabled",!1);oa.removeClass("sp-disabled")},disable:xa,offset:function(a){l.offset=a;G()},set:function(a){U(a);F()},get:C,destroy:function(){z.show();oa.unbind("click.spectrum touchstart.spectrum");
v.remove();da.remove();d[ya.id]=null},container:v};ya.id=d.push(ya)-1;return ya}function p(h,d){var e=h.outerWidth(),g=h.outerHeight(),J=d.outerHeight(),k=h[0].ownerDocument,n=k.documentElement,p=n.clientWidth+b(k).scrollLeft(),k=n.clientHeight+b(k).scrollTop(),n=d.offset();n.top+=J;n.left-=Math.min(n.left,n.left+e>p&&p>e?Math.abs(n.left+e-p):0);n.top-=Math.min(n.top,n.top+g>k&&k>g?Math.abs(g+J-0):0);return n}function g(){}function H(b){b.stopPropagation()}function y(b,h){var d=Array.prototype.slice,
e=d.call(arguments,2);return function(){return b.apply(h,e.concat(d.call(arguments)))}}function E(h,d,e,g){function n(b){b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();b.returnValue=!1}function k(b){if(u){if(O&&9>q.documentMode&&!b.button)return p();var e=b.originalEvent&&b.originalEvent.touches&&b.originalEvent.touches[0],g=Math.max(0,Math.min((e&&e.pageX||b.pageX)-y.left,ga)),e=Math.max(0,Math.min((e&&e.pageY||b.pageY)-y.top,w));H&&n(b);d.apply(h,[g,e,b])}}function p(){u&&
(b(q).unbind(E),b(q.body).removeClass("sp-dragging"),setTimeout(function(){g.apply(h,arguments)},0));u=!1}d=d||function(){};e=e||function(){};g=g||function(){};var q=document,u=!1,y={},w=0,ga=0,H="ontouchstart"in window,E={};E.selectstart=n;E.dragstart=n;E["touchmove mousemove"]=k;E["touchend mouseup"]=p;b(h).bind("touchstart mousedown",function(d){(d.which?3==d.which:2==d.button)||u||!1===e.apply(h,arguments)||(u=!0,w=b(h).height(),ga=b(h).width(),y=b(h).offset(),b(q).bind(E),b(q.body).addClass("sp-dragging"),
k(d),n(d))})}function h(b,h,d){var e;return function(){var g=this,n=arguments,k=function(){e=null;b.apply(g,n)};d&&clearTimeout(e);if(d||!e)e=setTimeout(k,h)}}var e={beforeShow:g,move:g,change:g,show:g,hide:g,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",
togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:["#ffffff #000000 #ff0000 #ff8000 #ffff00 #008000 #0000ff #4b0082 #9400d3".split(" ")],selectionPalette:[],disabled:!1,offset:null},d=[],O=!!/msie/i.exec(window.navigator.userAgent),n=function(){var b=document.createElement("div").style;b.cssText="background-color:rgba(0,0,0,.5)";
return!!~(""+b.backgroundColor).indexOf("rgba")||!!~(""+b.backgroundColor).indexOf("hsla")}(),ga=function(){var b="";if(O)for(var h=1;6>=h;h++)b+="<div class='sp-"+h+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div><div class='sp-palette-button-container sp-cf'><button type='button' class='sp-palette-toggle'></button></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",
b,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button type='button' class='sp-choose'></button></div></div></div>"].join("")}();b.fn.spectrum=function(h,e){if("string"==typeof h){var g=this,n=Array.prototype.slice.call(arguments,
1);this.each(function(){var e=d[b(this).data("spectrum.id")];if(e){var k=e[h];if(!k)throw Error("Spectrum: no such method: '"+h+"'");"get"==h?g=e.get():"container"==h?g=e.container:"option"==h?g=e.option.apply(e,n):"destroy"==h?(e.destroy(),b(this).removeData("spectrum.id")):k.apply(e,n)}});return g}return this.spectrum("destroy").each(function(){var e=b.extend({},h,b(this).data()),e=u(this,e);b(this).data("spectrum.id",e.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=
E;b.fn.spectrum.defaults=e;b.fn.spectrum.inputTypeColorSupport=function I(){if("undefined"===typeof I._cachedResult){var h=b("<input type='color'/>")[0];I._cachedResult="color"===h.type&&""!==h.value}return I._cachedResult};b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){var h=b("input[type=color]");h.length&&!b.fn.spectrum.inputTypeColorSupport()&&h.spectrum({preferredFormat:"hex6"})};(function(){function b(a,f,c){a=x(a,255);f=x(f,
255);c=x(c,255);var t=B(a,f,c),h=D(a,f,c),e,d=(t+h)/2;if(t==h)e=h=0;else{var g=t-h,h=.5<d?g/(2-t-h):g/(t+h);switch(t){case a:e=(f-c)/g+(f<c?6:0);break;case f:e=(c-a)/g+2;break;case c:e=(a-f)/g+4}e/=6}return{h:e,s:h,l:d}}function h(a,f,c){function t(a,c,f){0>f&&(f+=1);1<f&&--f;return f<1/6?a+6*(c-a)*f:.5>f?c:f<2/3?a+(c-a)*(2/3-f)*6:a}a=x(a,360);f=x(f,100);c=x(c,100);if(0===f)c=f=a=c;else{var b=.5>c?c*(1+f):c+f-c*f,e=2*c-b;c=t(e,b,a+1/3);f=t(e,b,a);a=t(e,b,a-1/3)}return{r:255*c,g:255*f,b:255*a}}function e(a,
f,c){a=x(a,255);f=x(f,255);c=x(c,255);var t=B(a,f,c),b=D(a,f,c),h,d=t-b;if(t==b)h=0;else{switch(t){case a:h=(f-c)/d+(f<c?6:0);break;case f:h=(c-a)/d+2;break;case c:h=(a-f)/d+4}h/=6}return{h:h,s:0===t?0:d/t,v:t}}function d(a,f,c,b){a=[F(r(a).toString(16)),F(r(f).toString(16)),F(r(c).toString(16))];return b&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(a,f,c,b){return[F(Math.round(255*
parseFloat(b)).toString(16)),F(r(a).toString(16)),F(r(f).toString(16)),F(r(c).toString(16))].join("")}function n(a,f){f=0===f?0:f||10;var c=m(a).toHsl();c.s-=f/100;c.s=D(1,B(0,c.s));return m(c)}function k(a,f){f=0===f?0:f||10;var c=m(a).toHsl();c.s+=f/100;c.s=D(1,B(0,c.s));return m(c)}function p(a){return m(a).desaturate(100)}function q(a,f){f=0===f?0:f||10;var c=m(a).toHsl();c.l+=f/100;c.l=D(1,B(0,c.l));return m(c)}function u(a,f){f=0===f?0:f||10;var c=m(a).toRgb();c.r=B(0,D(255,c.r-r(255*-(f/100))));
c.g=B(0,D(255,c.g-r(255*-(f/100))));c.b=B(0,D(255,c.b-r(255*-(f/100))));return m(c)}function O(a,f){f=0===f?0:f||10;var c=m(a).toHsl();c.l-=f/100;c.l=D(1,B(0,c.l));return m(c)}function y(a,f){var c=m(a).toHsl(),b=(r(c.h)+f)%360;c.h=0>b?360+b:b;return m(c)}function w(a){a=m(a).toHsl();a.h=(a.h+180)%360;return m(a)}function E(a){var f=m(a).toHsl(),c=f.h;return[m(a),m({h:(c+120)%360,s:f.s,l:f.l}),m({h:(c+240)%360,s:f.s,l:f.l})]}function ga(a){var f=m(a).toHsl(),c=f.h;return[m(a),m({h:(c+90)%360,s:f.s,
l:f.l}),m({h:(c+180)%360,s:f.s,l:f.l}),m({h:(c+270)%360,s:f.s,l:f.l})]}function H(a){var f=m(a).toHsl(),c=f.h;return[m(a),m({h:(c+72)%360,s:f.s,l:f.l}),m({h:(c+216)%360,s:f.s,l:f.l})]}function C(a,f,c){f=f||6;c=c||30;var b=m(a).toHsl();c=360/c;a=[m(a)];for(b.h=(b.h-(c*f>>1)+720)%360;--f;)b.h=(b.h+c)%360,a.push(m(b));return a}function X(a,f){f=f||6;for(var c=m(a).toHsv(),b=c.h,h=c.s,c=c.v,e=[],d=1/f;f--;)e.push(m({h:b,s:h,v:c})),c=(c+d)%1;return e}function P(a){a=parseFloat(a);if(isNaN(a)||0>a||1<
a)a=1;return a}function x(a,f){var c=a;"string"==typeof c&&-1!=c.indexOf(".")&&1===parseFloat(c)&&(a="100%");c="string"===typeof a&&-1!=a.indexOf("%");a=D(f,B(0,parseFloat(a)));c&&(a=parseInt(a*f,10)/100);return 1E-6>R.abs(a-f)?1:a%f/parseFloat(f)}function F(a){return 1==a.length?"0"+a:""+a}function G(a){1>=a&&(a=100*a+"%");return a}var xa=/^[\s,#]+/,l=/\s+$/,K=0,R=Math,r=R.round,D=R.min,B=R.max,ca=R.random,m=function(a,f){var c,b,e,d,g;a=a?a:"";f=f||{};if(a instanceof m)return a;if(!(this instanceof
m))return new m(a,f);b=a;g={r:0,g:0,b:0};var n=1;e=c=!1;if("string"==typeof b)a:{b=b.replace(xa,"").replace(l,"").toLowerCase();var k=!1;if(aa[b])b=aa[b],k=!0;else if("transparent"==b){b={r:0,g:0,b:0,a:0,format:"name"};break a}b=(d=A.rgb.exec(b))?{r:d[1],g:d[2],b:d[3]}:(d=A.rgba.exec(b))?{r:d[1],g:d[2],b:d[3],a:d[4]}:(d=A.hsl.exec(b))?{h:d[1],s:d[2],l:d[3]}:(d=A.hsla.exec(b))?{h:d[1],s:d[2],l:d[3],a:d[4]}:(d=A.hsv.exec(b))?{h:d[1],s:d[2],v:d[3]}:(d=A.hsva.exec(b))?{h:d[1],s:d[2],v:d[3],a:d[4]}:(d=
A.hex8.exec(b))?{a:parseInt(d[1],16)/255,r:parseInt(d[2],16),g:parseInt(d[3],16),b:parseInt(d[4],16),format:k?"name":"hex8"}:(d=A.hex6.exec(b))?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16),format:k?"name":"hex"}:(d=A.hex3.exec(b))?{r:parseInt(d[1]+""+d[1],16),g:parseInt(d[2]+""+d[2],16),b:parseInt(d[3]+""+d[3],16),format:k?"name":"hex"}:!1}if("object"==typeof b){if(b.hasOwnProperty("r")&&b.hasOwnProperty("g")&&b.hasOwnProperty("b"))g=b.g,c=b.b,g={r:255*x(b.r,255),g:255*x(g,255),b:255*
x(c,255)},c=!0,e="%"===String(b.r).substr(-1)?"prgb":"rgb";else if(b.hasOwnProperty("h")&&b.hasOwnProperty("s")&&b.hasOwnProperty("v")){b.s=G(b.s);b.v=G(b.v);e=b.h;k=b.s;g=b.v;e=6*x(e,360);k=x(k,100);g=x(g,100);c=R.floor(e);var p=e-c;e=g*(1-k);d=g*(1-p*k);k=g*(1-(1-p)*k);c%=6;g={r:255*[g,d,e,e,k,g][c],g:255*[k,g,g,d,e,e][c],b:255*[e,e,k,g,g,d][c]};c=!0;e="hsv"}else b.hasOwnProperty("h")&&b.hasOwnProperty("s")&&b.hasOwnProperty("l")&&(b.s=G(b.s),b.l=G(b.l),g=h(b.h,b.s,b.l),c=!0,e="hsl");b.hasOwnProperty("a")&&
(n=b.a)}n=P(n);b=b.format||e;e=D(255,B(g.r,0));d=D(255,B(g.g,0));g=D(255,B(g.b,0));this._originalInput=a;this._r=e;this._g=d;this._b=g;this._a=n;this._roundA=r(100*this._a)/100;this._format=f.format||b;this._gradientType=f.gradientType;1>this._r&&(this._r=r(this._r));1>this._g&&(this._g=r(this._g));1>this._b&&(this._b=r(this._b));this._ok=c;this._tc_id=K++};m.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},
getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},setAlpha:function(a){this._a=P(a);this._roundA=r(100*this._a)/100;return this},toHsv:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=e(this._r,this._g,this._b),b=r(360*a.h),c=r(100*a.s),a=r(100*a.v);return 1==this._a?"hsv("+
b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var a=b(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=b(this._r,this._g,this._b),f=r(360*a.h),c=r(100*a.s),a=r(100*a.l);return 1==this._a?"hsl("+f+", "+c+"%, "+a+"%)":"hsla("+f+", "+c+"%, "+a+"%, "+this._roundA+")"},toHex:function(a){return d(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return g(this._r,this._g,this._b,
this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*x(this._r,255))+"%",g:r(100*x(this._g,255))+"%",b:r(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*x(this._r,
255))+"%, "+r(100*x(this._g,255))+"%, "+r(100*x(this._b,255))+"%)":"rgba("+r(100*x(this._r,255))+"%, "+r(100*x(this._g,255))+"%, "+r(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:S[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+g(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";a&&(c=m(a).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+
c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=1>this._a&&0<=this._a;if(!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(c=this.toRgbString());"prgb"===a&&(c=this.toPercentageRgbString());if("hex"===a||"hex6"===a)c=this.toHexString();"hex3"===a&&(c=this.toHexString(!0));"hex8"===a&&(c=this.toHex8String());"name"===a&&(c=this.toName());"hsl"===a&&(c=this.toHslString());"hsv"===a&&(c=this.toHsvString());
return c||this.toHexString()},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));this._r=c._r;this._g=c._g;this._b=c._b;this.setAlpha(c._a);return this},lighten:function(){return this._applyModification(q,arguments)},brighten:function(){return this._applyModification(u,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(k,arguments)},
greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(X,arguments)},splitcomplement:function(){return this._applyCombination(H,arguments)},triad:function(){return this._applyCombination(E,
arguments)},tetrad:function(){return this._applyCombination(ga,arguments)}};m.fromRatio=function(a,b){if("object"==typeof a){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:G(a[d]));a=c}return m(a,b)};m.equals=function(a,b){return a&&b?m(a).toRgbString()==m(b).toRgbString():!1};m.random=function(){return m.fromRatio({r:ca(),g:ca(),b:ca()})};m.mix=function(a,b,c){c=0===c?0:c||50;a=m(a).toRgb();b=m(b).toRgb();c/=100;var d=2*c-1,e=b.a-a.a,d=((-1==d*e?d:(d+e)/(1+d*e))+1)/2,e=1-d;return m({r:b.r*
d+a.r*e,g:b.g*d+a.g*e,b:b.b*d+a.b*e,a:b.a*c+a.a*(1-c)})};m.readability=function(a,b){var c=m(a),d=m(b),e=c.toRgb(),h=d.toRgb(),c=c.getBrightness(),d=d.getBrightness();return{brightness:Math.abs(c-d),color:Math.max(e.r,h.r)-Math.min(e.r,h.r)+Math.max(e.g,h.g)-Math.min(e.g,h.g)+Math.max(e.b,h.b)-Math.min(e.b,h.b)}};m.isReadable=function(a,b){var c=m.readability(a,b);return 125<c.brightness&&500<c.color};m.mostReadable=function(a,b){for(var c=null,d=0,e=!1,h=0;h<b.length;h++){var g=m.readability(a,b[h]),
l=125<g.brightness&&500<g.color,g=g.brightness/125*3+g.color/500;if(l&&!e||l&&e&&g>d||!l&&!e&&g>d)e=l,d=g,c=m(b[h])}return c};var aa=m.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",
cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",
floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",
lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",
sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=m.hexNames=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(aa),A={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
window.tinycolor=m})();b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})});(function(b,q){if("function"===typeof define&&define.amd)define([],q);else if("object"===typeof exports){var k=q();"object"===typeof module&&module&&module.exports&&(exports=module.exports=k);exports.randomColor=k}else b.randomColor=q()})(this,function(){function b(b,e){switch(e.format){case "hsvArray":return b;case "hslArray":return g(b);case "hsl":var d=g(b);return"hsl("+d[0]+", "+d[1]+"%, "+d[2]+"%)";case "hsla":return d=g(b),"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+Math.random()+")";case "rgbArray":return p(b);
case "rgb":return"rgb("+p(b).join(", ")+")";case "rgba":return"rgba("+p(b).join(", ")+", "+Math.random()+")";default:return w(b)}}function q(b){334<=b&&360>=b&&(b-=360);for(var e in y){var d=y[e];if(d.hueRange&&b>=d.hueRange[0]&&b<=d.hueRange[1])return y[e]}return"Color not found"}function k(b){if(null===H)return Math.floor(b[0]+Math.random()*(b[1]+1-b[0]));var e=b[1]||1;b=b[0]||0;H=(9301*H+49297)%233280;return Math.floor(b+H/233280*(e-b))}function w(b){function e(b){b=b.toString(16);return 1==b.length?
"0"+b:b}b=p(b);return"#"+e(b[0])+e(b[1])+e(b[2])}function u(b,e,d){y[b]={hueRange:e,lowerBounds:d,saturationRange:[d[0][0],d[d.length-1][0]],brightnessRange:[d[d.length-1][1],d[0][1]]}}function p(b){var e=b[0];0===e&&(e=1);360===e&&(e=359);var e=e/360,d=b[1]/100;b=b[2]/100;var g=Math.floor(6*e),n=6*e-g,e=b*(1-d),k=b*(1-n*d),d=b*(1-(1-n)*d),p=n=256,q=256;switch(g){case 0:n=b;p=d;q=e;break;case 1:n=k;p=b;q=e;break;case 2:n=e;p=b;q=d;break;case 3:n=e;p=k;q=b;break;case 4:n=d;p=e;q=b;break;case 5:n=b,
p=e,q=k}return[Math.floor(255*n),Math.floor(255*p),Math.floor(255*q)]}function g(b){var e=b[1]/100,d=b[2]/100,g=(2-e)*d;return[b[0],Math.round(e*d/(1>g?g:2-g)*1E4)/100,g/2*100]}var H=null,y={};u("monochrome",null,[[0,0],[100,0]]);u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]);u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]);u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]);u("green",
[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]);u("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]);u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]);u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var E=function(g){g=g||{};g.seed&&!H&&(H=g.seed);var e,d,p;if(null!==g.count&&void 0!==g.count){e=g.count;d=[];for(g.count=null;e>d.length;)d.push(E(g));
g.count=e;H=g.seed&&e!==d.length?g.seed:null;return d}a:{e=g.hue;if("number"===typeof parseInt(e)&&(d=parseInt(e),360>d&&0<d)){e=[d,d];break a}if("string"===typeof e&&y[e]&&(e=y[e],e.hueRange)){e=e.hueRange;break a}e=[0,360]}e=k(e);0>e&&(e=360+e);d=g;if("random"===d.luminosity)d=k([0,100]);else if("monochrome"===d.hue)d=0;else{var n=q(e).saturationRange;p=n[0];n=n[1];switch(d.luminosity){case "bright":p=55;break;case "dark":p=n-10;break;case "light":n=55}d=k([p,n])}p=g;a:{for(var n=d,u=q(e).lowerBounds,
w=0;w<u.length-1;w++){var I=u[w][0],ba=u[w][1],ha=u[w+1][0],J=u[w+1][1];if(n>=I&&n<=ha){u=(J-ba)/(ha-I);n=u*n+(ba-u*I);break a}}n=0}I=100;switch(p.luminosity){case "dark":I=n+20;break;case "light":n=(I+n)/2;break;case "random":n=0,I=100}p=k([n,I]);return b([e,d,p],g)};return E});function backToHex(b){b=b.split(",");for(var q="",k=0;3>k;k++)q+=parseInt(b[k],10).toString(16);return q}function realityCheck(b){b=b.split(",");for(var q=0;3>q;q++)b[q]=Math.max(0,Math.min(255,b[q]));b[3]=Math.max(0,Math.min(1,b[3]));return b.toString()}function blendDownOne(b,q){for(var k=b.split(","),w=q.split(","),u=[],p=0;3>p;p++)k[p]*=k[3],u[p]=(1-k[3])*w[p]+k[p];u[3]=1;return u.toString()}
(function(b){function q(){for(var k,g=1;6>=g;g++)k=b("#colorInput-"+g).spectrum("get").toRgbString(),b("#colorPreview-"+g).css("background",k);b("#overlayPreview-w").css("background","rgba(255,255,255,"+b("#white-opacity").val()+")");b("#overlayPreview-b").css("background","rgba(0,0,0,"+b("#black-opacity").val()+")");k=[];for(var q=realityCheck(b("#overlayPreview-w").css("backgroundColor").slice(5,-1)),u=realityCheck(b("#overlayPreview-b").css("backgroundColor").slice(5,-1)),w=b("#colorPreview-6").css("backgroundColor").slice(5,
-1),g=1;6>g;g++)k[g]=b("#colorPreview-"+g).css("backgroundColor").slice(4,-1);for(g=1;6>g;g++)b("#r1c"+g).text("#"+backToHex(blendDownOne(w,blendDownOne(q,k[g])))),b("#r2c"+g).text("#"+backToHex(blendDownOne(w,k[g]))),b("#r3c"+g).text("#"+backToHex(blendDownOne(w,blendDownOne(u,k[g]))))}var k=document.getElementById("csp-container"),w,u=new XMLHttpRequest;w=k.hasAttribute("data-path")?k.getAttribute("data-path"):"";"/"!=w.charAt(0)&&(w="/"+w);"/"!=w.charAt(w.length-1)&&(w+="/");"//"==w&&(w="");u.open("GET",
w+"jscsp-form.html",!0);u.onreadystatechange=function(){if(4===this.readyState&&200===this.status){k.innerHTML=this.responseText;var p;p="#4d"+randomColor({luminosity:"dark"}).slice(1);b("#colorInput-6").spectrum({color:p,showInput:!0,showAlpha:!0,preferredFormat:"rgb"});for(var g=1;6>g;g++)p=g%2?"dark":"light",b("#colorInput-"+g).spectrum({color:randomColor({luminosity:p}),preferredFormat:"hex",showInput:!0});q();for(g=1;6>=g;g++)b("#colorInput-"+g).on("change.spectrum",q);b("#white-opacity").blur(q);
b("#black-opacity").blur(q)}};u.send()})(jQuery);